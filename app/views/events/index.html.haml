- if current_user 
  = link_to 'Create New', new_user_event_path(current_user), class: 'btn btn-sm btn-outline-secondary float-right'
%h3 Events
.album.py-5.bg-light
  .container
    .card-deck
      - @events.each do |event|        
        .card.mb-12{ style: "flex: 500px"}
          = link_to image_tag(event.images.first, width: "100%", height: '255'), event_path(event), class: "card-img-top"
          .card-body
            %h5.card-title
              = event.name
            %p.card-text
              = start_end_time(event)
            .d-flex.justify-content-between.align-items-center
              - if policy(event).edit?
                .btn-group.pb-2
                  = link_to 'Edit', edit_event_path(event), class: 'btn btn-sm btn-outline-secondary'
              - if current_user
                .row.ml-auto.m-2
                  = link_to like_event_path(event), method: :put , remote: :true, class: 'col-6' do
                    .text-center.row
                      .fas.fa-thumbs-up.text-success.mt-1
                      %div{:id => "like-count-#{event.id}"}
                        = event.get_upvotes.size
                  = link_to unlike_event_path(event), method: :put , remote: :true, class: 'col-6' do
                    .text-center.row
                      .fas.fa-thumbs-down.text-secondary.mt-1
                      %div{:id => "unlike-count-#{event.id}"}
                        = event.get_downvotes.size
              - else
                .row.ml-auto.m-2
                  .col-6
                    .text-center.row
                      .fas.fa-thumbs-up.text-success.mt-1
                      #like-count
                        = event.get_upvotes.size
                  .col-6
                    .text-center.row
                      .fas.fa-thumbs-down.text-secondary.mt-1
                      #unlike-count
                        = event.get_downvotes.size
                 
            .card-footer.bg-transparent
              = link_to event.location.name, location_path(event.location)
= will_paginate @events
